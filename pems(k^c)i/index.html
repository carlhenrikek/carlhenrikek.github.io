<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6aa29dcfc353378aef2d4aa3a58e747f569c2a9b7331db420bed805174eff71b3a15a4bab1efdb7e3a28cde68313abc8b37afe2582194de1bce0bf8c7d350fe74955d6b5d8be6045165372cf672ecd26ae138b143996d748464064b169d6609259da5e4bd59e300cd1bd479f18af8d9b49ca4c6036b52ae25ccf6fae97577496696eb0ce5d8c40cdd617028cded06dafb42f3fef3938bc102eae4c9c8201a73f022c5873ef954e9a0199cb6befb9221b55db51930c5e680dc64f68dd3fd73da8ef2676f7054a70f0a1a46af354307ae8d4169efad3be6b4fd8dbba3ccdbbfc2d987f572c168675206657a2bd9d6b428715adeaec403edb393e11fe2463e693cf600aa406d2ed73e8da36d2cbc1cf5d09adb3a0c3a037fb444a67bfa98efabaf3161e140083d44e5de5e27dadcffb59f995b1fd82120fbf244f4136ee422516e16e42dfd972c4fdf4c86e0c429394defe261c4fcdd8da5128b26901cac874e94b539e8fe17518753634fc0d4cac4c704f0fb570a5291eace4c4f311aff2cc786ac1b9bcd34610b4a6cea5b5728f5c8b626fef17f646df6de27b66fd4d88c34d250a20ae24ffedab22bd52abd5497225b04e18d09abdc4bf50fbe56a69c0b5322aed9b53a0ff68dc311b97234b76d862ae4eeca3617e0aa0ffc2bd27b0c602b8bd6182cc5a886e07f3cab34e25ca793fcb24379d1a15449012dcc4d89c119641ea673195651e3b9a44eeb03273595e0e3141a75bc1e6d95c6acccb071542ff16c038346877a19be06e3fcf87709f4b42fecf06b48e82e9095926f0024cfa3f4a6663b69f5cd69113c7c235f0440484c6181247a14e82935e0e3623aadcd2e6b2c7c37bed0d1946163ac2b697c60ddd0917c33e8f3e3aa7ee262cbb02bb95f08aefa22ac6c3c069a4015e2fa3ff19401f35f6197d89a6d92afef23d7ab809dee012c1fc6f512857d6ce8a113b656be23c404aa7a7df77928a6e6fcd64a58605d0e8544e30d8542e5c3d41165364caa4c88f6870f2ace4f3a6e0944a6ef64382b68dd992632c61c749d4f496e001de008097ea8a1601c213fdfcb31191fd6e7621d26446303ede2a5956613a22fa8cb5f637c39c68d5641d1378e3e00490378abd939f70aae233591873c0581010abb25d33eaa61aef76f9dea8ff7367b911aa0874fd0936a5a057bc2f0a0d517e7b9a499fa80f11709e0866a2623a00a540685135bbd6530c700169be0f86f12f6694cd155421e70512f335a7c8ec3496aa5f91819d6474516dac1863b6dab51564db0104d2c9c83bd2ba72d408c595ad184098c9607a519c97e78799c86f6a2cbe9153a82c1b81fa59858cc12cfc7675d8b74d73f27ff9c8565831dbfd552da752f0edc5bcd45b93fbdcfffdc97351fe35dce76cc57184910025800ac2899b39c122214b6ba2daaf72e8c12174f71d79c4e85baade4c80803f53759735a130040ab8e0bcdd9ce2e471cebdea455d7e34a58dba99f8f889760cf2ba0942a6d1ddac7658209adbebe58a05dc347b9f4da0e4968adf7d7459892a7a31f117085325f5a3ed35bbd96694e731a2104120767ef890af46c3be286d9ccfe034ba2fdbd5488f88f6a0071d2f848fd26aa5d93e9bb64ce11b738ea1b6042d8cc02594a352c6e824fe1d36e0110d2d3826da0fb58b38117ae991962c8e0d5dc032f9f2ea030f5f75dcda3b7432b92bee6c79b50f9b91adc0c40aab80ea17588ca32419e5f1c7a907379276961912fa58e7f3f3bc278d91a72aaa0c110cbaaa6269e65deef4f3ef34941c8bd3b760e41dfc1f2b2253477a285fa956ebcb3247d641ad7befd25f340b5c52971ec7195e165ce355bf530442004bec30c00eeb192a22109d2af09b8d4fda4f21544173795272e6748718d3a2c7cc88a815cb0cd0fcb6e9585c3a7c2fab6113f4f681114b1918c39b22f126145f895789dd67b8172dc9bf3ebfec0ebf22ccba5301b20627ab069011f40d067ef1282c060a621f266070bab80171b72069d3ad0611c927ae969cf1676ca102a189b41745cbc9de104affab27026f023e0432a63fcd9591a95a7e37e522c8a568e0cf584388ac43287c9685f9b8f24b37b889b33a1d6e3692179709f7c268ba9e1bde1599a6e37d98707c477af3759f98684013b72863ca44f9c8968801d564b9042771833bbb41ead926c6e66d0cfdc55151ac324b320b9100a534e37039fb26f36a2ee6844975b954d5a3cc0eaa5765c267b26ed9658f97936e9832ef5cb9b8fe7aacd96b8845449170a5af78d7373488474de016206238851f12fe065a41af0aa074888d5ee990bd312ff165cefea0af1c1600d6d09d707740c48870607887739b5a4ffdbf7ae7e21ae93d9c8a37b1ba70c036ae95ff0471441eb3219187b288730b7093e795ded4dc620737c172d25a46fa3230f69c4f2506c385b6cd4e972d5ddb3cb9d9571e0ed043b5055019ef1b257d0514120396a207213dcfb15ef114a9e02dd3e5eb178ca3d067935ae4bb1b217a1b6da0e8bf4f545868807c8a16b7d7a75cf32c8b9d60259f759be984da6127c1e98be1074ddb69ef51fc536b3ea2f61a449c9c2b3d32359661191176d87ef670d941350fa145fd8ad1c674cb35bb6f03963d11bf4b91b62b39ce5d13b229ddeecdba6cb2eeda4e8401e2b363e7b861cdf7b2137850480152b29466e71f31556aa7c67a2ce4bcd1c988a76f955eb77e49fa04cdeec2ad01418c4b91a4a06346624483f9f50203368c7d11349a5c57a730ed3ae9241451adec25d1d90b4bbcecc257d33f3ff73a30e4fa54d9a883032c5a429b2e3e9c1e78084145f01d6c72381ac5955ed41e2acd4074ed17c05074efe6ab259656786fde5e201ef8ed2492980b9182e237b81b2cc70bd1324a8254c015f2f1ea28a87b74368e88f261656a36bfe12265171a37045db6b2de2072419356bcbf7f702f99c9d8cbf1862a302247637035a1cf9bcff3266a6f9279e50f1a391a96657d444607dc33352f899badc32f10cab9a02afe8a8ae2a431f15e44a8ddf81aa6d152f79c106297177c989208d64e0f97cb1ab7ff71420ad30e82b1bd098c63ae47137f6b8f4394660fc940a5612ea0c9239d753d531d5d4ed89ba0c0c345366f79bc383227941f2919cedc0b2ea4da7fc9ec4bb600d6278da11bc05024a1910a1d41f87059beacd7eb968fd9eb7a3d49cbdf2fe387bfbd6230d73a004dd667657a1d9d816f466f0d1536a977d5abcd13b565cb8b1f18d2ac36530883bef5c3f8d0586e08eec5252322ad7b90289cd0bd8f5d6b7a30a7aa75732bc7b20d348859113b8ec0886b822189fdb4b00933b2f59873554a4d1981d965f7a16f4cedb200220fe4dc19326f3ae4a1432c9989ae2967c28df6d3d9f899ad6ac0f3d593994b8356bae5a76e7630fa1b8940301e9729ffc0558bf54350f19d3562bb4017b200ad0e4d1960d74d91c3a16a56bc1e850519c461a9debd77edb289da3f650108d28b5b2f8d6a2df9f464c97fed27460177725c40cda4558c9e68696604d22c70d5ce30513c802af169bd7cdfc4675ee4aecfd45219c5af0503b7b821c7a29cbae78afcec6f7921a573637c6b5871200f40f5eccb6bb661dee7abb4f1295ad8c7b4ed13e5996f6f158b1b13064f8f112e8645703362b6a3fe3de9cc61824cb227c519e99152875d7e6ca11edb79a9229e058823ba8a070b6c9b20f751c10c917ff493bb0482b09bc5472538c7adcde413df9a984795dabb9f78109a2fc11e33449bcfa04826acd9eb0f8d45b0e5b76dcf3e29d39c40dc559288df4c167045b8b8d985f879e1ee847af223ffbc4a1e8b9fff1ab31cad0cd58d2f70d106b5b28166e3ae7fe5d6060ccf7e8ac5f1a3ba4466b5f5c046547bd0fe265be67db4e71f36d73da495ee8eb6af8299d90f65303e3d4c3ef3bdd66bec4cd3176bd7fb27aeeda97be1c1e77a5717ea124888a36f256f886d99e3e054687dc193cc8aaeecaf43fa904ad3c755a8a9501e34f8f33023ee77a084e55e7dbcfa3c8e7733d4c2f8a000c306d4c7163e7c242f542fbb904031f52ab4c474745abbfb97efde3af0de5f5279f854bc5f898093723f9f8a8bb41819540f927234964b5b3de8485fbb245d48023d94126b084dbaa16ce872d3c298fd88dcc311396bee03a859bee49109453fdb87b6d50071248fc3baa5396f734235284e62a054b7f2168d04c5a3f93a381cf45b968ea2a3a0e2f81d39e1a1398639e20f76a34377f25718136be465798e1b08d045f4cb1ef672c56641b850cd9b75ac148e6c29d9d1c26ab275aef8ed87a2b59367addfb8e2a9a408b01c0c3bd8eb22c1680e63a91b1a935daee6a8f7a32e8e9cfff50528af0d72337f76eaa4868e85872e4217f1ebac2d654e4fa9e78f30eb9a249c2be1aab6a68306924203bbaaf926caa5ff6fd568df668a10eade64f089ef939cccf8e59f9f9caf610cd766ec573bfcc99b40ebda185e19cc50a356fca18bbe6cb564fe5f539f28d82eccc89450f6cea488bd12efda0223b2103bc303448ffd850c1cdff3edb5de4847a972578c22e0fb3cebfb3bde47de4484e6540e85ff540ae3bcfd82b7243cfe331c2a1950a427661f2a0fe8add54fa5e270a2f39d21df2c130bb897f33015c7a409b3981872d0dd89a8b12dc6db36bd7800036b979f0e504190c980a4d67973e59bb0c831ee81d0062319071be5fa7793e8a99005801e3904d24bba484720f3ef1544b426ad3445594a16393d7404ff6c33d37746eab2b5a3ab996f1cde1e86fa0a70c3dfc4df508c58c342f20a134673030f4628944d54509e372ed8fda66c1c6b8e4923ad5dcd26e3f5a28b4d6c1bd2b5fe1ce75ebdfd2d5de701ec377413079bfe6e91cc350708989408dee777572d40479f322bbd21cc6390049f5f50125dc2b55c3b7a8c39b8a3e4c561eb7ff473c3be8da4a278f74816618d2aa15249a95aa22b9bfe242114d2014d963f224aa944402a24a9398dbdefa549d5e0d9ccfdc1db9d26879c67b836003605ef7a483f0873aa53934cbefaf32ef954dacb5c988d5b71c829ad3980873b877d508bca37742426565e95c135debeb3eb82b682de89bc3f5d25b780c44608621b0fc1a5ad348c1b6441534d26e41d4d23d5fac631d9a0895aaab64dd3de67f6a09fd66ad35bb38f50b0f40d7169d72400ef2eabfe34b451d493f69512bff4f738df58f927489b4ce7279bd117f4bd786a51b673f3677fd2f179b55d161ce2abe0fe4239a35bcc80267f80f6e26fa3631747e0de270dd994d46a415e90a2a1bbf7a6b8d0f953aa61504d341c150404785c0e17aac753f5eaf0d75b4c855901ebeeda0a8a05b6b167096f950c51e5085c6d66c27c665c7edb1d624b689652c007ccc37f274fb345d53c08dd11d4904c26956ef342f7bf23bc5138d2be3f66a6c00110d169e5c6adbe4431e59cc78f34ba575908feac77ddf3f6bf5f3622fadadbdbbf7bd5d3657d0f6b0e165b3e0ed9a65702e707f8f89376c289bcce63c62b6c647ef558985562e17f2145b8af98a7f4ed139e447f7bb15c782eb56690d38500d5c1cfa34365257ba13f13f30df4722f5c419deb5289539282bd7d0bbdc2b6dfd8c0c650864a727e82b1d9de9a96a0e54e3f84f9f019a4baa70cd9c7cb505a58dab95d8c31334aa363c324d76dff011b370d3a23a39c0b523cea78366b46adf49ce2f9e7b26bc65303d9061b7c8d42eb6a9850e165e3f2348042d7d29f674acced0ab7a5e407c44f7320a94150775748d63869e9430c5a2048aca07056c6646bb0d88b8b8cef13124186e7754a9346a6876cb780bd4c3c68dd2e6aac414c9fde5e272e079557417c551d42c35c70e772c1a66d8238047c473bdee067fe334d642397015311a33c8a0acab435c9d10156f2334d4669f0c51c3620ccbc63e97bd998f3b760a6caa92dcc54112a1b1b32c288e793562fe231f65c2a3ca0ed6ab3741408703f9c8258aeb34b04cc17566f3e06a3daec9d3ac3bedfec1c54b96495527a8830e55c22403daf218e0009edd17eb539528911cf002b2e5ee6b6d7add0614ae71f243654d21b24d9cc4ebf1c888dc23a551f4bb36362564b2d40e1729e2390dc673c678d9de7081b840640bce99ade92864eedcaca7b2dea11a540fa18d0cef44fd42ca7d7ffe4d037ca016c26990995e97964f12d391bb21f17dfef1e606a9339b075cfa723ef54cff332f5db688f1fba32a54502bc1ddaa126dc5e38a98a24a97ed12e22978363c2106b9a0f7e7126bf2c7efedd996a24d2398f803e2d4a2df11407654e4a16e23727388523fb4e327b5e59cc2c2c20250b995f88b25806bc64b701e4e8d1b01e9585236666d5fc0a84c741e0d9a2144bb5fd3d0e10ea7a43d2768c4f78ff58d1e14fd666e5361e8718f04c6533c3088f28e1854d1d6268974c27324f2b26a1041597cc5bd2a133b035acc51181c41902fa6850e3af9ebe58bd7d8b3892873fffec5099cd157a4a254ded14899ce0b01099bf45373ffd22f6e7a32aab6443864781f4800aaf6f194479e4be5e291baee885f0e8aba71bd03dd4de3a5cc06a7a6d217e7b2e302c66d4fbe3ccfe2b7b9c924dc85f95ddec5d0ebd145d553cc875db8e65dbebc4b538abd45facf6c3859f5a4957dc683c021696674200c5da5c4c8d6ca92694d3c3c813105e01c1bff0e68cc556b55ef396a1ecad4c162f5b8ea6bf9f6fef473d976d9f1a83e2616f33e370ab2f83237c32b1503dacda2ee0fe89533e0d8acdd2a4b45f227b47b274d39e4b8d30dcb92499dab1ca7868356d25921dc9681c2bec87540b1dfef335094e4490fa404228fd5688a13cbdfc4893548eb0fb541afd2955131b2eac73de2f50ce9b0a9f543aea92178762b6005ee2a99d9b9e17a88898bdc2d345fad57dee6f164b3718414ee7574a8fee36dd8f3f5215ba289dc415f7156888654041275ccb8ec01d674dd572d45850363f6915ed5153fa7b19bd2f59b9b6f31e9160994c08691574fe55801fe913318ffc74894d008baa72cd610e6811d22cab1c9f71d428a64e4c2faa07bfb7799901e6133aec1184c88360817f4cd6c048942c142b85a3b98d09e56ff8abf1fa2f92aaea873553a6cfcb877c5e47f78ca1926d5c47ec224c3d20f5d7eaa57f2136fed7ee59adc30327f74a40aae5f188da540a34af6c03ea924bb50413bb56b2c08f23ec36de9790114ee468ac0102e7b4bfb12f7a741d82a78bc8e62edd5254b97d7f600a706e68791eaa2764005e1f55dbfcda72e89aaea368a7c5fe817f0c47f859a9ae5959609c96eb98c027f85cc97d17198e754be9266909a34733517f2d5bb564195ef786519ffe8453d30a6f4cad6214f43f83631ad1d452657465c1d9a24a84bb9304e839e6cdcbe17afa7d2e8cad9d3ba75224238b1d37bc8ff5c034e4df16240699fa1621d1a6d2ecb850c5d379f9b592fd18b3e890adba27988471abfbe8978a640ff802023f84ad512420168bcc7a1330e7faa4b8bf7b421720e2db1d3f2f64b81f7d260159272428c460950414ce7367c8b7205ab1583d55dac3cb66d1771a78458982964e4a5d4407cd075540756f912fd7171c8949f162b3be18e93686a26de371462a7a622e4d5052780f2c666e74b12df1bfb98491b62f232f81ec0f7cc3530c386731a734b3aba411a9ccd80106113fbb134bbbb753e41cf7447e06dd610b5e9c48c18b92306dcb3d3b8c47faa25f304229b2c35fba6a4e145c308977bbfbee3491cdfa795630aef7024b8f5d0c4cd97f2d0bc2bdc1be07b0197610eb026a2a91a237575c6185f27b68ff48c57145f77ce1fd5effeeaae5e6f1ffbf8570cc96d5efe3266eca775a4416f9b3556314ae45393890803c4288f8f317bae9854c03394b77b258bea16b9544420a0ff5d624bcd1a3a5d048e71c4798ae25626f3eae05576bfd52c882d22ea124195945cd8dbb3fdd707d16ae87969edae99c4ab559b2f85197b7ba8cb35cc9c730bf10df835901cbf76b8a5012a1ebe2c6d9a8233d2c397cd04a299714b329723035246d1f85b1dfd801795add95825e3c00515435e48eab5bf35b67a4ef8b2aaeb74ebd91975db54b3af71478d5e09d1d1d08c385400225cf3245c51c3a0083f5f6c0f486704c436c8bd0ac16e6d3d644925e4f99b017232029ae1ccae638243a7b4bc176159f2852fa4e4cb18c9bdefab4c107201258b3f1e282eff37c49e7f3077e70a94043e0c9ddb984b29dca6076dc18becde424073dea6f3abc3e4584311210e82175845a4878c6157d75370bd4b48eae0372b1cfe35284eb3d95a7e9c35e1560485156a3cbbae2c78bf164faca2b1e46ddb046a043c1fe44df19ad8e5e02acd392f3607433bf1cbfe77beeab9ece312afcb9a8a20ceaebeac4c5903edfd7a9d84bc1dd9a189f20c42094208750f8355700c7ca5e48f1a304e7d6c88148beb8dedcae1f28753d9b22af2516da0757b6452eb1b39c1647bc627cadde09b5b9d97eed9c8d9431c424c003785408cba697c39c2bd3e39c752cf32bb367a7c337e31ec4e21cb4c4469f23121ffc5bc0d18ba1f49a86033c386d1a129aa3411fb947b51161ddd8037ea8dbd9d2d905a41b0dc0ad76ef3499a47be2d40848e5c8788d533ca96d10c42f426a8c889d2a38c0929e41cc19289c9f8d7b19fc69b77d02def282d978454566e402fbb1c5b3901461badaa94ca8240e2dcbf8555b50ba3cedd3bb4a51f468ef19bbad6c8f2b10ee6859d3e213c49e9e37b0e90be4d3b2ed5f3428acbca65479d72638a120970c3199eaeb96d4262970670a0ce2b1ae7cecc63c571ba0879e92fa5a33e60753cd0c65aeda729fea134a05389b239b82421a150737f1c011c031536742256d5835c8ec8a9e55ba8aaa7262b01d6af3280aa662a6e95606d814d32388bc84003b10be6b9105a2f8492ae80875782c5b1b6656f0ea0c8c044b78ddf199c862f52ca69727d7d99bbbb567cc775086da865224f1bcc11ada08a45f1dd5e5f4191d47f93278edc94f50e5bccedb4405f46b399ba6de8cc9b362d1925d2708c0f56537e6fb61b63653f28ac6103f692fe8deff29c84974c4a29fc4a04b779939206498947c210cc100cdceaae6f1692906d12f50894ff8c20c203be2e0dc7372057c8a5e3536fd178e43111a8843293860d691bc305305cbb6d7c9b897a837b3089fc50101c2c6eb59276a410828b97e3abf2dc91077c9c389b1d66c6bccc58f5691c9ae381678fe18426b4d912ed6d889541239d8812da9af146d1c00273df10ce384d40dce81cc0ef96c2708cb434fa483e4d35557ff50e788535ae111a9e08a95d075f260476e04499709e96f062f5bbeafc9c810197337046ca5b32766af28e9bde45e4c25b1f318d78fabbba6d8d552139564594963c9ed7da67b4399aa17b2bc973e398e95eeb0f4f764019ea7aed417485fdc9d9294cdde0d623336fcab78290c214a54a1f23e8daa61e51d290336b2320953a2a2f6da160063b920fad33e559176be6825d9e0cf911ef6fcc3158e2a062857d1fa24fe59176e99fd4bf6969f9d14a3aa9b1bfba413a52ce2f494fbb822959c1a29ff77fcdaf4189982f023036678cfcce72eb9e55cb2e1987fd1acd165bcb6aecfd07dd63fb0ede00f86c8d66fdd8c432dec770e88a72d3d94e757210359db839153522c0cf33dd43ec16b8ca474351e71e981aed6aba4a320aece708ae642113b06471c5c689cbce1023ae8ed5d2f153dc894c8da6b9d8d5f4e317ab4cb80aeadbedbc52c5edad2316c13a2cbfb69f3f618d05470808f9b1c507b4d81dbb106c2fb5d394345dfdde2e8d808514cc61036f4ca17d2a2b3179dad72261257fec83f4867da0f8182863116ebefae413ae826e257a7cc2bcb103fcf01dbfb25722d48b4e67909399416dd37c8e2060a3701928599f907abdca8969063ce049adffbf70894a8a4d24170327653927a282f8cfadf0b5a6588a9cc3f3c990ca55d5a6fcfec0560b866fcfc3bfa76ad96538cad98d2b264033bc89c7f7b4614d35338a57a6e87c6167b780a08efb3a1bada0d9615587969acde91ada252808f34d427477a04fbd2535c1202c234a6881c9344b0a387d896d1725a813ce670b1e86dc267e9187a1ade29e31270765efefe771314295ee9578ae8d26a3996702530fdb6a885781825b3b6528b782d1930bbac5271ffd76ce8f69643cb959e2378d25f3bf208a691a0a6920c0264bcbc04981c73b06d82e36b7139efab7ba5869fb7bf040db9259bef293c7d1de5873b56a55424510e5c9ed31434f436b85fb01ed58eaf62be4e2be59983bb591a32ade1a86de1ff96368af9e5bf5e9919a00305fc1ca94f153e892dc53a88fd0f813ad68b39d661c08b1a979fc8056ba158eb4fde6f04289fb3fbe1262b55b0779956b1765726ae54602e7738e534078a790ce6a8bf8583f5ce2e5b1b7e68e1d07064bf39719ff9866f2d0545b35ed0ccec3d4a94237d6570815a412d225d335c6b18c131c21318dc99206068df7d490c77f03df378f9ac7e9a07ae7132968a62db51ef752955cbb7d9d88c617ed8197da0d3025196b1768da64156e54ebf96b6ef4265dfe53ad37d1b434ea73fa6bb14cc5e93fb3d8d492ad41a39cb78540e0ae0a421c61efb6e3cd6e1ff90f0d2829ed46aa6ec3d520947e4cdb6cd64c7c78993647d03e85560a8d57dea20ce81747fad005da3e3cee220ea3eca9f96f516693f7d85cd4486b04182ba865742029b50ee4033f1c87934e1b20d036c432179506f1498ab5a84476fb57ca2c026378acd8ec5759bd1193596e00988b9868f44db9f72ba0cadaa7055f31d909eb1cdeb7284eb9e2db7aa43ad98a975faa61fa6ad632a8b84c53d5a6f63bc7e8b498e9df22f7531097403e63ac5308eee9f786125ac6287f6d476b05b0c26032df3dc3e3ba3cd068446b69cce9b462c10ae5723c953eff0b52e6ed3450d57f5c6d2744f83805929b15b8869e62a25fb304efa2ed6d742b24f893eeacefda6ad276cee1677472e6330ea70dcbef133fb6d9b3514ff700f7799191cccc14f32c64cbf1062fbab770cffc4524d03bafa8b6a7a044f495cb234ba221d463c8885d4c0423b38628340e462581d306b11c4a0afecd0691b51a42898d045fb6970b18bb06d954b7efabae3d895e00d38e270073cebf6a502949858dc3c3ce42b1d0e076f53b2234a9249e4ab7f512a67128a44dae6cbc73c4b489ef518a1ced0b3ea3a47f0a4435592fefb07e7d4be10a48393c9585f4d46a884e5a5556877de456d5912befe6e86c6964a9cf895c77134667d7af42d900eebae179a12a0791a68de41ee2c54fae1f5961dfc9cbf07fcd0c40a53c6a4187c55a7acbb98cc8cde8876f4ff20d6779cddeba1b2d2db4fb4fa86f341f2087f115c79285568ceb15605a117e8dd3258106ef6bbb42cdd442acd8cfb060d48e3f47d58623675edd4159a81e4c8c542f007e713fb7e49502cddd7ecd6d9e5b3cba19d76582d470778af8297036dbc8cfb66fa901828212e905e4a9c56180dcd5a5cfba7af8a045fdfd4b1adf5d07220a21cba7f0b20ae507165b85d031cea87d420e019705a6edfde32204c388bafe228ee8809ce7f982fb31d6c4470c034055e503224b56917cb0a72c7b63c6c0f1f339260badc52063c883abd5a837a4628fb4eb29081da61be8c68bee872c9610b9d861bf3f8cb06dcf778a204c977f14c90813e4d31b559802197704f43b4a1e5f4ccec7ca2d6fff1bb59752ce8beb4f700abc63241c8580481ce45f155ce40829b9815535efaa5f543d451e7b80d338cf235412220f3f52f45d383f3c1204b35c7c1244dacd95ec4e61f013e54349c45fb279377d81a11000cf56df2536217bb0dd805f018340d7564ef313cae9a80c71d5a925deca8822e0d86ac961d6834d7a066d8cb123a8db346792a071be73b464d6277f1cbd3bbffdda97106c0fc1e319dec674a73a9b714956213765cf9afad2e083a618b4cb64cbf443ddf30d7a739084d0c6845fd39a10fe39da46be17f2a7876f4025aeea75b665051ff2a87cdcd90dca5661cb1928b5a34ace84c754c412718d9c161bdbe5b3e884c90a26f08a36828c16689fdbbcdf2107b70a92a46f591d2ce75284d92c64787e9c5237723af2d5988e0b473ab8f4b6c0805dc98f537ea0c7a33d77128b8d23d6dba66110eea9288fda1dd02acd4ec619014b880098a6b64968f0a42a0e6ada503d201a98b3a1f39b334e9449c0d6b3bf6aad0d18062240512853a74f68d5b8764ba4c538e8a52fff4ccaa8419b8529f43fd22f827d10eb59e12f95544a3bbac99198d0ae294b3348dd91973b19dd6fdc21918b24a94e1eca8f7d915e85830fde1f99fe4524901179adc232bd611e6ea51f7cd76093961a03d54ebd5e044621114d5d9c40deb4d34654b9396b33fa5bdcffabaff186ba01a392615f69a57763f92cf1cf9480fd64a6ef1e6469f95844188d25e1b76ff6daf590b4d1bce10804a4990acd41d6beed02ad36a046e2424be0b333279ce3d6264817244c7a199b861a8a21b2adcf85883467f8c873e59faa6bdf76090e667bb25870e406755e9a766226cf42783fd0044676e361a3ce72de3cfb03fcb545ee2cb5ed83c06baa98a8822a4c2661e6bd5bcc76195a498421fbf815599016d5f0b6e9caf210442c17f8bdf3b34c532eb2d5dd23cc54d072f931c0db79d97c803bc7c68f0411a390662af3ff95385feaaec7c349439a23422b0735bcdfdab1ed21e3c8647a2a7888ca40657eed7393dbdb1cc7c0bdc94b9f87b1058c55083d3b4f1abc3a580af3941049705db9bb8e03829ee4d2c7e0b3a87c4bbc70d12b78b65cca606d141df3bd1e5e068ca130b4c7ca7749078a01184cbe22807310f774aeffd88c53249ea608cc2eeab1da87a17322c0c2ccb50964538203ef13c001ed1d7523d938b8b25070030bc77e6cc851c27c360fb59879ed8de6264f6fea503438d6e4d026d33bfa410290974dc415f8b4ee18c52ad0e27b69eeb700e00eda288033e9512cdf99244d5196fe0403f27e099e46143506af50d665df5f53aa599a5862a86db56d2a26c488d1d21143516ce78e908d30c9dc29d1a51c11713f257e906fc6c506a9ae39dddbbe643f8dd6dba44ae1b8d3f6d0183793b5d8ecd611883246b0ad15a469f41aa7601edc2097c7951541a753309ad1ebfba5c5419d490aba83d18bf118506f614750263aba601170e67a44df9bca0b3083e767f6a4a22933a1d8c6d297d0acbdfff670adb081da51cc8d0412ddd82e406071e1d39419b932a8dcc0d6b21496408f1e136addff3ff0b940fd5a9a487cf749fd0e3abdd65f3492d5e1b05000b90593c2f3ab5fdac8ff76a44f190b2159ce1ba451d21ce23b8e43411e3ff827f484c25b928b0d761b2ec37ddfff02812ea5181583ba4bb8fa2d1bb1a5fc4c77a8df70a4f5a6221d454649406b33295ae82335066ad0b46beaa050069961427d8bc439890b826b7e6e055d2ea5e548cde48b6ac71c20458f5b742f8b1d4c1ca5312a586381e75b446cb62e6416cd70903f8f2058a59f3abefc5fce5356690eca3ef9f21b2038520c7ff6f5946ed78b335982ebb007ec21102d8103ce8e855fc53061151278a8db007e8eac10c5e813cb7353ebbec56df1fb06acde9b2e0e87df33496bd2bd9835cf621a0def972a3170cf8dd8f8cb7d7d0b9691406128508c22acf1acb80f54e6daa3774cd3fe6f88395c80ed6f589c3c96e0dd5295c26366ce942c0904b1154a30583005357b56ff7d622a06d96c4d3ff90bee5bfada4e15717e7d7d670c4ec989041c0604640710a76fce2d85bdbbe659e6c6b8053bc20828a93d950e8b0f0f1cd1412d074e03911e890f4056468f7594a212adb4f97fcc71fea5cc996f5f46d7304e14a537ecee7eeb7d6da9f685eedb11a44c96081ef111b437235fcd143294a266c8e9e81fad94de46c6d495c017c11bcf93d0ee685b92357c82780f64e330490e443f6d9b3574382e19eed8d643cd118695387f2b0d5225de5c1f76ed5479cce20c45cbc39edb2c2ae64f1ffe589e887c4cb9be5eb037229fcea0c82966354a6ab5948cc2a100b78d474bcccd13665906eed97e713c674be18aafc1477257f893d4f5685c8b950f68b9836827c05a7880e1e72c3c7786492d586abf92d5b519912c91ea8dee4547add1dde0afb89b177f415f217b03bccb7a8a61eec130b4238d2a376f048f9e4e1e2b2f8a2f70a4cf7d8096de1dbff6c8a7304460cf5ecd89ab3f041bc9e522e686c2e4d0f3e5ed0f577b1fbd0441914e3e775dfc81687afb237f76cea6c52cb8fe62243f2750b39d5c435509532f0cbd457cb5b4327893e50b20865d9107e354e85715debd0d321e54d2f68e0841ad2276b38efb5cc69a4e5720b913d0381be7212920aa19fdba6dcd9a9f953e6d8e72aa02c34d52e8e65d9a8a5841821130f8cab82ed69864ec96a3ac5acf06c444aaaadfdfb93260cfe6eabf22b88f54bc9b864d5e835b669903423758b4e7a803634da05e5293cff34d6ad94c9f60423ec82d082782e94da3b561fbb1a86a81c67b6e344389979483ddbd320f986d14e4da26662b5b9153d86c3cbd1f7aabd1879256fd1b24dccf7b755c583b989225c36328388e85d978f8e46a609b3925f48cfca44984d15d45198815ef612c5cafddfeea27d9b9974f6039f23c7c1b970c92a6eaa60926592897d2cc21235c9bc0aadff2c2d8a0ce47f18a66d1dff306c1dc7db65f920d6b7b70f46ed2b29c3691f83c2adbc905b589497121832f5ef6aa1e89cb71f8c2658224702ad2f93a28b27a330b415b57193a0255803266e4cd6c47684986f89a19b8a1546e03afe08fd192f41f574bf5bd11b178ba1cb995fa84fd991290bb925afd223553372d64a4f13e254510d0351b283971460135aea97a69608f2143f22170f8921767ae3d0464705660b8a58ba17d39588b8ba5c5d1a87f8329ea0aa69d3ced0319969ccc6fc40c1143d21d7302f739ab8bcbb31d5dbf36a8b0d5342fa3eae05b660fa95b0141c0a58244925dd112bc342aabad91208a434ff669895a1cd65f2d7d55d3cb23a28ad31c2461cc303240d7ed02253bdbcecd45acba6143cc45ae179d751cc836b567a21d260b2e991dd306557cd52708d4f5be7872fb839b7ced3147639282ce645d7c91e4ec244424465be25a047d14ec8e5b130dabc02ae6ef444e895fcbd697f776339ac14a18f5eafe9a33bae531f506d9d688f81777a305e6f9057655a15e4ac807321659119ba62cdd48ec7f39c04d794161b152f0cbc98abd316f5b7cf1668fe3cfa94cee075eb2e7a1e740b4482af8e35b1afe472d6bbe722de373c1d8b05537fc4d959e1a3d7ce47a06a8416138be1bffae9294b633c4b1e298c19d8ef9ede5ac5688976679e30143b6fbca868b20fb9b2229823238f83a24b9311e032a38b4829b5e6c04d61193556f56d097df5d6e540417e049a3f62239e88ad1a1e4ae200e8354ff6f96a2bfdacb1b02e2b4bd449a7d6462795ccb4ef76def5b884a6858aba65379c945d392e0e482591a46881524fdf1b974c55b91ea20b8ab1cc164766ef5269bf770adb604ce047e47e85ed942c5529e8405c861a2457c8a1596e310efe73faef6c393f73450f263f6213dbfa06475c8db6087cfc0ee3e4b1ecaaf5482b98a313b94c7f4398146b3c9593a4d495b80bb7c9266c62d152c0359b994734f9c3bf4a0dbdba86da80d21d4b65da2e63cdaa60467458c051757c95c5fa879e920edc388b69ea504d32f5bac775c821b19cdd5017ab2b0fc896e56df6d26e4df0cd99672a3e2b06392af60e33dc120ab33b5c5519e552001d1c1c7f1b6ef94943daefc16ef94c0896ade165e91647212f9b37475e42c47a42eb7cb535c5f2eefe6374e8b8ba28cd3f03899baa75f0cf980da00f9b24fdb3d70a3d905062ee03827a58a130a3822e4ec9b714b2bb928f43c61fd2b6fd1004555f05284ab0510135939f488971d2aba0a92c96a2a2ada432ec1da89264a2cf57b560f99e23211f044b385156e56ba46fe828fc5bd50eedc9ba10f528a00981d7936bc4ed119d5ce9fe2babfb282da2ff7b740cfc9abd60c5b178a3e048545153a4cc6193302a6a133c02b9cdf35f59998d50c34e1072967d29932dc3fc64971773b1f3e2fece032ca2bbef867a19dacfd0c5a790f1d2f3d2456298183648aafc0ae7648cdc097b1769344fc9c3fa74f5303084def4bda1fa6ca3511a8eac2f6eb30cf0be7d5819f7f1ba57dffcd3ab3b2b2eab1cf6ee19528ec2efb45f15c132506f72b78e9d9e405c59543e02dd86bc72ad36fcc83194baa1f4475022f14c6938c61b6310c420098bd9b328695feadf85deb086cd2b3fba24776794641abe27f4fce850dac2533d2c1c0b5e295d9d4b483fd6fb4d52efa0ffa7de5f5574bd64a260750a749ac1209659a3163098cdbd7f83f40c7a2db7f0bca70d6a9bb1a7bb16e7d9cb496efbda5b28b9a0c9517eb3556f357e4e138ce103dbe9a14c67a6a16da3bf95fa3c868e7085010ee56dcd32f4c3462ed4d12711510763b64c83dfed0b3ae177780c5108cacfef7cd47281247f9f355f0e736f9e09bc9f597e1ad42b641e3fc7d695a5e7b9d451838c4ced6cef7986c676b3cacda97198494de4c2170d2154654819c33c65d545135d2d5ab4623e8534366f20f6c91e70bba0ff99e548ceedf007b475f8b3d6fe14eaba2844f3fff0770fb6a0c0c1cef744358a7c1a903af567130f426342a8acb241f424f49e27f86e5361ee4806f732238dc10ee58318c94bf8006d624b41e584bba2d5d2ce384e36194e47a17d2032ce375ff6dfa4bebba5b963f7b2603f0c0b234ed9514877490375b912e1f5694ca50117433c49a82191bf7a080ed1067c1a6acebc07f5755c2fa40c720b081e6996d99487d92f69633fe58ccd9628d7ed338045c639c838b74fe43fe224726ed02ca0b5b2010c41ea5052e4eb60c50d333dd159cf3dd69eb5e4c9c5574ee481bc049f553b20128776001290612506efb9ca86c8e647ef8730cde255d756134b58488b7c5db7c267bc7f890a5de31bb11f2d9947d0b964fb30de92048a0a98a57781d79b5859e254a9aabc81766ea9bf4d01fa2397460973fd12a20b51991fa81708e270011719741c17eb88d834d1415b4f9cb3e3d1d07a4c2613c2e72c23bacb89215417a31259e2a086d6a070a81398f127dbeb224eb3c3c63730d1ad40892f6b58fecfa0310622fa13ace321d952012b60f3e4b717e5fb51f45d0743efaf32f971038c954a572fb93ab8ff4e657e707316af7dc88a7097ff7941dc2ec32085a66c0a49de56009cb885607a0d3ac9d467243dfdd87df39a4d9c830e7503987946369757f5309572cbae2fc5464e09b66530a39ff27ccab2d8042161fde38b4db2a99994a30c6213466ca3847cb3676ffbe9ff8529f18363a6e05053c77899c861b52c1a9c4f8bad408d2a9766f931bf9e96406ed702fa6d453554091b0b02f939a9631070f0febeefab22afe1d5f4044677e560010d2339d1cc60786fa7e542c4732196c3380877a4eaf02ff32fb116d0fe41128c28ecceb3356110434f6b7b1e5bf0eb8e35fc61d621d7c4860bff0c913b89544bf15e728369e7d51a269c846c92b7ee87c0c67c85d9d84ae559ef6e5b0be7c24353da94ae373a1d9c6e08e84271b23c07346f421812e6aabe1889a06520686374bab0764c0580e1672f45a034d2e6602822e0e3e35fff219dbae2a3bc5be2c1dc654229a3e7afcb1c8a02660f502ccf90ad9c868edd4961616ce0fcd45eb88fef32a46f5d073989bfc8eac7a0208e3618bb96ff016f7abf085102d7f114d9ef8f4344e41e893ac12cc506a24589bc79935085227b70e1740f0511f333dbe53780fb91b9d2604031727730c3d98bdd801992faca269d544aa0a5fbb12480bfa0d1ee4fca664140dce8262255383dd39e1631c11894d6b4d02d8684749916a5825be8ba5e9f931a7b6d964c9444684ce31a066a2882076d5f82ba3d28a985e481d1607bd04e15a3f560ab88f773d293efc7df93e8ea44ef67c5a53abf9ecd64702ba6df056d7ab9674aba750340dc7725324554d583b15003da6abe0d4f23058fbcd61755da778c0a3fa49a15133294040550d275ed5bba84b69c39ee4cc95916ce7e8d6b60a0cf7dd311f020d67608666fb9c313eb03c1538bcb1eef02f12acdacaa867d8506787976b527a7b4a0ea4acb73c8c695131b3871a5a9782ad983371ba190852c92e88bed64b80044de1c3af61e71a32403a913af7b6c8d85ad4890f75e2a81b82cf9caef42ce600fe85cf15e9f6bdbccfdb446c585e894f0923b8ceaa1b115bf63f6cc530b832d5125191e349fca666a20c1eca7e97895a095a18e6a0e4e8641f784267ff8e23c97f2d0e67bc035209816dd71cb9f22c12aebeaf3f2efc0e1ab5e46639188dbcf5b80dacf53a9319c4d7195d2ccaa92a9f1e5640d44ac52c36440490642831a611ef071d0a6a9a8e25a9ee22b8360f8f37fa4cd8d9827d8d0f360e9e10d3a74f9a2c2701d5d8b206c8347d255b4636b782ed3b601cfb3c3990fc55f1217c4cb16d29e3fe112c2846721a3c8bd2d459d9a3514e7bea641ca12a101e41909ecdf4d44ce7971fbcdc5070fd7caab4e6d92707e720700094ee4c02efa423efd895875f2721a7ab5467e1a492947dddb11842e193df5ef4727c13199f522786cfee44c7e23d64a9959ec185968a92d1f61a27cea3d7e7555bfc8c518f6acf9329b9d8301f6b7201abaf0696ef3529bcbe90f938f59adccb17a919e0a234aaceecc20af1c160112f86a18acc550b57c73d4920013d5230567cd09e74547f7abd8ebdb3ba8b832c00885f87eb9912b83408312f1c72e217e79fc3fe3d76b47b420f811e837b85bfe1116ef3c898674a4eadbb85037d9ddfadfcf19f5e64fc79a2162b6ba119bdda027ff09f04fe8b75cff9e09604647f286d1d3b3a5937808d7ad5a2496bb65e295bd49608ee0c934cf876507cc51a0edce10997d1a8332f846424b148858b7e858ab3c418c69eaa8adc763a147e31987651702617829c29797f28cbdc63334c58c56e2d3fb3565ab293d333b954c5f0c4d7d4f08b328df96b3e92aba595ebd61a5095f8075b5b273d660f7c166883c28e5ff0e5a86190db3115bf71218ec495d13de4f12f29f92a79140e54ba1dd47a6ca4265c87fdc9ad8c8eac06f79ffb03ed9e5645102357975e53311fdd1dbb6b6aa251ba90d4d4c9a02c55ea9dff2ec25f5108b63adbb49e0332899836e9720afa1d5a53184537af7c72cd6a69c48e65af399fc82abca71bd6c0b8c22169007906cd2cfe3d119c5970822932037b03a038d90eedc4d184b2e65cd5e238e3330b28c018e8dbb810aff16ffab99ad6a33c6aa599f3eb3f284b4c0d1b7528aee56c6f7ffc63a4d961949e9cc24a16235bc45b0644613e37380d2dbaf0f11e44f6b5ce85c8c68a53c976ff935850c02ea18b8fb89a1db2072a3406dcd7c5d64787bb55dd1238cec0f84ee15338d29b51211d217af736393f550e17bf1f8c1527848c668c9a789e817651a5ef9e8e2b61a5a53a4e4b94bd70be86a2f80ee5be4ce86743c44e39bcc7028effb2c14c3737b34e2dc8b7ecf17b43d4d3ad66af52ca91f37ba089a6dc7481d9471faa368154819680240b7e06fd2e07d2fd98f91563806849d67c14feb8fb77d43c8b37448c3632b6a7c23ce987522eae7448afb3a4c2d9f4a7899c0775262c3b87f319ae8deb17fee41ab84ae671f238c98da84a0ea4c5965638b0665e089a26b55cf732ac29d954eaea432c99f0284d07179444cd2f960854db936b715bd16c993994516c9e1ab7939ce6c4464ae251f94e748be75eb9ac78576ee628fae4548887937cd86cdce5b8eb9755fbe1d3db01dfffd071c4539effa42aa883597ff80ef790ff484874e857116ce7f2014cbf7ebc9311ba37c4952cb18bcadfaf45dc43aa9cebba30c2a3a55c20778752e992d99e025981d3c6517cc63c2afd878181a283b4f9749bca850a995551471f54e098e004192e6e7db7e9c53946f346403d0024e2c72e9f6621fdd8a2701a11c663b5862ce1029b2296e34b051c6b9be72dd565f1f032e35694456cefd068186b4b0d12c4e4a8919267456434c323445111c78e5bd1fdd6b25847f42afca97e9cacaa1c2325d14bc595b7ea11a806633386c7a10ce89f2530545266cd90b52ae20adbb5acbff80d0f76e7236b069c480bcfcb3278ffceef2096f3c7699137c722d4bbfc5c847fcb97ff12c9d90f7d17f5d1176c628aa173a56b47c6091cb5d9a2d5c81aa01c5fdb8a4a640f936540dfc4bb0c43a7c07e34e52e05db621dbe877e18a88ad12f6adbdfa08db8dac207c0e9482776d4dcd05d2c2622c5b09b1a07025ee7f8aaa8f21e4fd5de3d828482205eb6fad6e5cba3698a5aedfa57c072f6788e7a230c863eb0c18a24d66853117a43d20d107409a389a3e7af512a615f5ec0c03ea89b1bfb6c6b5589b10cfae82779faa49453ef56230c9865466ae0675b7391c0ba31383f1974f0c2c4eaabf8d6cc877a0b4ef5ffcccfa968d2e7b2453d1e66b30db185d83b72b30e3cd2d6b8cad1ee2ed296846b9dbf5e438c09590f4788546010695accb30d7ccbdd464137dff7309f85d26f4e6bb49490ad70b9c78aa2b797f8f9a267f349980fafc99a320803bc70f9f09dbbf39fee99d1f47b500e7d03f3c6fdbfb6bfc88eaf393e60ef0347cc826c194baaac43bd4adfcd73877d795c585aa1c8f27f93a81f162210409d454500275d216aba89e2fc56e45847b25b978631c4eae9c6e511aa32dc1d299b6c87c3b10a5d47a2ab16d98343867582d784d1c32470fe85d8f9afd9b59261ca0c7b4aabc5bb77dbb0dc25387a447a9a51047982ae3c1d70d401e50a4ba59a376bf6d4af30534c18b7de709697095807fb20eb914e67c515081e6317bc1e1b20f3e78385ea4e158c6e9101c20fa40f878471fce3b44ee10f2ed929c2d8ba1a1864f40a39f50dbcbcd12ac5a2cbed2a773be5adc89dc9ef6f67f4d4ce8334f64fb0ede0dbe0403f42d601839b72352f1364f0443b95d17ce238533592f98b40c2335f71ad9369a763d4cb638726aa8ec86e568aede5141aeb167c7f559230a9d9c06263bd426264f79b12ebe3dff398f65f1814ee11c0168874309c191747369f5b938f8e6bbe5351aef46eba07c90c16e71c2c339a4d9004d0a99bd7553e32f14a3b0bcabb3f732f379df3776ee04d98e58eccdef7cc944ce55c750f9d8c0fddb0ec5406087704fa9bb655dfc35a07e3d6e426cb104f4bae681e5f08d673a32fdb879e3a4b75e436aa6d492b28865aede53a2003c3b2051ef90a7a7184b24544e59171c6bb0a11678da91bcadbf4fc03789084484379f5c54b7fba4592050fe4a626210dd525a58665632fd8f6ecc7ade1856a9152c1217696952fcd89cc6af87d5fd1b3365f821e3f4833c9da4252f0328a7103daa6a86d33d2818d6835795d3ff30975ae0be5606e9436714d832f47da63503fead98d4f6b021ac5bdef218bafa15c8bfc4637aff282574e0384ff6345baf9849a7c2e929ec609f44cd8663b1544956be18750cf1d75f7a269615a9b541f361bb080d902f482bf146e7e28818d1a26cd34b0428885f345b6c80972a35cae5cd9ed67044a0c497f339816cceb6e61c8ed15ae9aaa5043abad0c854ea907eea6be5888b85a2f0a48a1ed67f1f57eff30d3fe14fe9ea1fd9762eb0c869d3739df4a7a38f9674944dd826c987621501b2abbc74ac61409531e4ada1ba9a180d1112ae6e70bac6ea7ed6572f62ae428f4faaf73939b8e3bf717f33e8d4392e7ecfede8fe14dcd2c28ff4366691a45f6a5d9bef7725d331380db979adbdea156327d3a7194840b337b5095c3c94ab857d96c975e895ebb209473ffc67e1191f19a19d9685628c0a7754781a576a353fab279f9505051a394d0ae8d8d9d878e30ab359f69c1c569270c1b6b29f0865f579ca20611b59fd626b5638032c1976d68bdd21ae326c3a574acf0675420e3a9b8dbed9af368a7ff20b424818675f86399c29adcf5861ebef7b3335ef8d0be5c5ff3b87a8958d2e72f0907e8ef344ac10b967e475626b2fa9d5700031f941a678b127b033e0121073a550ee230e049aa6a0b5c389501b813c48eea1c3a9c42f1e7fe30e7de1dd92984ffd084bbf8dfdf5b2aada20ec99972e4abdec35564060a07abf708f2c0954b05ee8de6a58a96f33374fcc875be9bb07049708a6b76772b211d21c9ed2b6d07d0f9640c8ad16cf6bbb8c21dc038ef8f69ba4efa34fe1e7d8f8f33b189abb2fd6c230410907c11e68ad00cbc441fbee1a48f9bd118aff16620628fa1d8d5a6c3a1c4ab0406ea494e6141d98cc8da18f922073613b19262bcf56ddb1fbd7fc4c1024b6c8bb91983d89694ddc97e1b219d29a63d5c50f54f408d23aba896d9e7f298269c426091272df445effcc43afada144cb573ea9584bfe4cdccdf4d3d73448554ab4eac58292c05192851527a51a929e7c804f4172c88de308c4372fba1113ad12696f0cb5c4dc8aee7ad0ac397fd59d72d0967c2b82c34adbd80030b49370c770dff43ea546ef490c790b9688492da573811d3fa2fd89782df5a39955067e01424a27a9d0cb3a2a8504378472a4f5bce82b2d4da892bff898eb9b78d4cf0b5037410b952bf0d2d1ffb2a71862f346d65087e4a9e34b65f785f651ce1b9544e760435565377743557ce2616163315c4343a0c3b2aff165a953f447b155938661d9313aeafd177c17c99bd42b2a8df7b5eda7ede5cc8d552a6287dc49635afb51ed44b81833954f451f20bbcc00519caacf7bb10022ebdcf3f1fbc82b3e8eeb31c11aede02102b6d19ec6adecc538ffd67ca1fb400477c9858cc538e2635d2ae2075acb56ac3a81d256db0ee30078c9cabfc08336f22a1863cbb37b20ee1e2e4ec0dff3998eef128d2ab1d12a160ddc6394b83dfe338bf853a109b74b504bb4829a6779adc57f08d4121d0367099f38988235abe3f80ce59a1ed8081f689e9b11a4fae36d45b3f082628a46901f13398740e9237e11b7fd4cc8199d797b29ec6caf09135356aa2e82bab00d90d61dc9dd296cad2771f5502cb94fb2875d5c19e2b5f3658a799916c964348a8164470216f3e12d21a3fb7c2c614269e4e15615895c1dc270f09f8e36c2578308a1f1fd8bdd1bc0f3a6ceb117413a8a02627b581044e65aecad32a74b610a83492f7f7cf266be2cca66908a3bfa9e0f2acbb9df58960de6e1587db51982279d8dd5d106c1e6cd81e630d35f6f05deb4a31a141cca2e4030afb83b57491485a1bd56f45e45707e1c90c05c6a05a4b9bcdbc2fec21db795882fc8cd6e4ad3f8fdbb788764d0ae8affd916dcc7c053aa6c8eefe8da89b84afeafea1dc2ecfba94b7806d6456a2d359a4d1e2d4ec160285a2ae9cccaf762e35d475a9f29548ce30ffd74c5593731c28aa52e7bc7d7b9f9d5d5a54d7a11c56a9fbede9e2b794d46384b6a8f36670c04295c6cfe122752e42a10678b9652524ca47b30ce9967e11b4150a674835bc6a1d3fab95356257350ee9a5da45da5dbaebafd4b8a8e86b0ba6ca8e01890825afe934236bcfae6114db286efb8ebc4029a8e78f6","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"218068ddd85a3e909a6b8ca5eda36fe0"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
