<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ebcaedfa717650dd28bc0b238a2e0834dad4304858fad2221b5c361f447b96e0eebde47c1124744e4449ce324f981f3bb1d464499abb766bc994a7641d1e5f027b8a2b9bc0c7fe9d8e3ac53c8140c7365abf76bd93c9cbeb6d111f3ce872e74bd54aace7e36f78169cbf4ea5731e8df1d6cac14652b4ea8d26b1d0a774ada2c0ba89d73a8196bfc1ab669b18428da15f58bbb59c301c20b5d428ef395c10818eee7076a63153ad351cf02ddc4368d5e4110c97ff99a710eb71bbdc32833e5368222145af58965ef9e3655232979bac4a52cd27068a834d1c7199311f064dd2723abef9e416644929ec75b3227f3d096762f2a7ff444cf96cdf85c181a30dbd419c4e2b4cbfffd55ec0f473e7abab8c340066e498d59737f97ef7efc97c215a03a71e7ce226e0abbd0133e913f7de4642c1062f5cece4bc36162138aae77665e0fc32550c579ae7759dc11ba5596cc52ffcbb4c080c9b4eff8c95f36a49aafa885a0c4f245e6c83e14ef7ed252ba003ebade5053c5a1d3c2e8185fedcc4acf0b1cc8446100c36e0299321d5cd0e46b188ebf9d948f5ec9d4769a390fc20c1d55afa27a58908a6aeb3b3fc2b566a800eb1c38d81d0d1c81a2d35ad08ab52a235b4cd5b393dba62c7f6b1abdd65c6c0cb92265fd47f605130894a8a077675ccef48f653f9af7a7da4d74311f8e6c0f42b25c5d3ccd0ea97c78c683ab93d82ea2ee697ff678d07a61eff880cce74d36854f2fe409c4f03eb2fadfab4881bd3bf1df9d06729b826f1c4ad14958e63820e9f6e3099de74abb9dbc04a1426fb1b65d469ac86c7ab1def580dfd3fcb3d4fb8fb05930b1c8e1ce0885d2cb0047471ee03936844139f74c7c805e86bb8732ae11efe7a1076f861d724988089278ca38b081ca2cdd1b994f4cf8212e7378b6a43c07967339eb61a1d28cfd8ec273e8bc572902721d88f33ba78c6f0c69afe3452156e1946bc2f5167f7adcbc36426fbc0ccea5b225908ecb38434140f10f3c03cc5941f257ac3d6b0b6788392a8ac57a39b4edb8ac594566a8ca29f83e6059a892aa311939b77e30f62a332299f8f8d5a56f99cf18d97424b154d570c187a70341dee94b675472e3b6fdd032d71933ffff4974840a3dfc43d2cb259b8bfeb4fe79d61c018b764421394baa66eb438355b61ef58a85b69335f015780c1d3c2ff207f1177af42b5a44b681080a4131a10e5c4b09efe0c3dfee0f2f266b044cff8466f0cf7433308b2be78b97dd2c430e38e4c72fc39aaf688904472bac88f2f12a23c834d095dc6d493e66aa2fe5cb27c73da401cdb5b20dc89abb2122ee46a6693b6d8c345190a2c38a2771cc274983a908809e1f3e85364b19566a45461078a5b03536b58ccf605b5bd494f9da25951943330b695c8ddf9f224886295d9e1b38819d90332541d8bed89561e13cf7916f091a332962147051908c52a64f961699b2dcb3e46cb49d417042bb2474e25e58a397fd32db1dd9f36d44712417ae1e9de3ab15f682f8d6e1557e8703098cb6ca102322d76f9365a1c8716af4f60241abf040675b45b180e9b62165db82d29eda4178b30553e56401ff2606b3103cf18b6b6ab5f5d8c3a894f35e8f9ad85ee106f81f5b863dab353a7cce33583ad59727389e878e36503d92d0824c17698d8f23aec2b0db4e1ee267bd65c2e0e5e95130f83ebf4b7096a39d733600000f93a03a8f2e4a78367c8a85e2e5359a07a57c059d57f871b5dbbe1847e8592e868f3132b8e3dba8fc1576e8e23eabc664054521eb23984dcf2a09887cbcafddbc6c24b1e2f97f7f2f36d0546da830a235a73eca63cf6ba3d534f574f1e04de7bf62a26c205c445fc08e64d1c70eda7fd17794a7c6ef21115bdd612676445c6b2acf516f1a792d2cd80955c3cac7950bdf78329d5a81ea595f290258591fa4463c3c270386b450a6fbc448439635051d4ea8247914b81b3dad1a8fdb4f2218108315be053ca6bd8df47b8db75c4e6cef0a4678c4c0ef4e8d29bfec7a003f1a1599577eba912a6fa219a74cc4d6c68bf1426ee832e7393a1b86b7d9490c492be5869c66cdebdda9ccd319a5630e380b9856e81503299850c819f14814d6a2e6e36f214661f96eea0fdc0bdf26765327e1db45fe7a90e30711a947ff371518fb062424e59db18ffd1e3392252bb45835eb88a0e5f5dc1ae57cbb756050b6357cb159fcaecb0c9bd3ba36a22af5c3fa470d97568c7f8463a4cba6ab61121ef7956988c135b7795b8c9f508aec977c6de9326a9134aadb4783265c7c92af82cc855177aaced73f11cf6fffd2fb001c5ab780e9e46752e10463982846af86a1525115d387dc1f9cdf9fd3f11ec33077a3b0908307bbef936e562559882b051e6cb0fdbf34311733525ad40c1b030e176cef74232acbd0fe3295a0e907cb548355623026182bb8a8f79316731633c2046729ae0f37b14c920ab5d30e52660e521c346f2b5824ddea072339cfe14b3e98ef7054ffbc5abc4b0e7f8c56a5e3c74ad119c29e3c2608ff2d3787ba37fe5cb327b8859a5729056eeb7cfad6fb2c8c4e868cc07248f864b3223b6f356f3159ea7e62cee0e0b4009c3e882c9d31928982b3e2ef8a4863237efea854c1041a4a746227ea4657223055c6f8e137d976c382c4d5f8944e1a7c5e1b61476094f1426f0a62e519d9387766ad748170f91456d8f315054470e9dd4bb46ddfffe4309eba9a632c72847ec8863edededae1e084e1d742e6cdd765e2dbc09cf7846c6ecdecfc730634788533fba85ee7960df41cf168bb1a07985a98fb20121311dd9db1980a3f5256532dabd3da9c77552c32ada48c2ffee36b324d208cd8b09dc2d763786d12c48e665b36ab0ad2ef467d2909e134baf9223c94267ff8f3df81923c088d9259d754aa556b3f5d6b82393c15a27c1b2454520f12c9050ed6b2754cdbf1e036ac1b3fd22ad2e212f877d61060ac199554516fd2a710aa12afd3386e598f0ab20d099b1fe2a6b9dc7d536373b41b792e18e2d5dfe2368896b707e1dea6d6b5e33e82d55b022dccb5a7d9e96939a6115168d8b84336760bec99d82cc73de44680ad2e39e6233ff0c23e6842197ca1a5079cd5aee12c727ca83ebecd23208cb8eee45aa75d631fce5a504b7ffa006d9149d8625cc006169a2245a963910d4c0bdc3e24f80c008e4a446248de673e83b021ade984acbc8cdafda11ed6bc80be0e02b9febdec0ef58e40f071ec7e9432faba890e058d636177237ea0c0aedbea8d6502ed62a1ec932a652ded62dcf14ead211b79c02df032623d9fcbf4179d31db8addf6a2d5abff6c68712fdc306e48c4cc041acd0f7bd6382b7f1f5d96fb5ec19f53dd851c49265577f616d349d8646a276f4fbfa58789e82175b742520ae55cd95a9bc6bd499369198bb4830275c3789896f7003b568618a191942ed3ba040dd59879ad6312d38a3e21761b2ef29dd9522494a0574d68570c1849d626b0a4e0e20876fb6a27983f5352342d322928fd1341f7791ebb74c7de4b2ec7bd33f0b46b82bb0446a9734ec08c514a3fb25a1eb65454e47a23c7f667653c9c9f9417f42e6406d3220fb6c96239f092c2e2970a2f7c776b0a51c25379d19d9867b63ad477b8a23710e2450523c94857429763a9677ece6cdd7ab593745c92cc75706f1daa1ca004c032866b075294b1966e2d87fe0162d41c62e54b335c10c533f47263a446f72baca8fda6189d41168567d0c98938ab11cec577be8cce6f9f3803c4c8275845c456a28857c87fbaec50b7093b953b4ef24c497b05fcd1999260914e2a5c15f7cb701079696ac149a3e6501cc8f2c340a4b8f4a203efbe2ffa96adcef23be7d162cf8807ead5f08fb17f35b6521c80b2411340a845708762449e2501902104eddecb2d809199888e8b36615ec957f43e4113b1472aa64adb369cadaec556a9d693271410e7e543b85a3a6ab899ca4d3ee4ee8a17a16d2b3ef9a6e1e2e504a58364df38cbf4fc264a15c2eb4b6f0dc579f437b4be62be6bf91275e36933ace3ced529c329d4d220288b9d0a47f4e104ae137f8bd14fa1df1c2758cb6042f597d2733331b2baee882745cbf3c58ba201798e7265ae498de860a263b42da6d98fb76e53b645a3e3f36afeef65735beb39b5cf9b6b1f2454756f8889d40baba1200ab0ed4fda715d10ccad3c985441498f6d51c842e131ab85649c903fa717384eac8b61880731836e404c7b8ed9286269d33291e0a8c9d98bf864ddc1e1b62bfb89bad8731fb11a8c5aab172d243cbe4f041cc749a660a9e36bf002275d268fc7912a80c52102ef47042979dbf250f602ce10bede2a84c3d8c176ec5d872a4a81d912a476c5937dc1f0b1a9e5c7b2bc313adc8cf754cb1a26437bb4f8e87147dd297e9b6c5f52ae66f03f78eeb6f19dab200453a36d64b68a626de388abd3c7e2adc0b745fb47d6d3dbedc0df903b35c9b0dcce394716f8a8f384557da855bec713a3e79d62b01ef9d1efdf6e7c454adc48dcee7b61d8fa461a01b77d2c3b6142ab6708bece1e47014bef5fd457c213f5582d8540923f93c647cc4264adf018d0c30de304f6e6c047f052b00750e512cd4d801c1b3fa7838e979f5723cd0d6af5962fb20b51717d3ffa83aab084ba525ffe9eb29f63894ae18f26ba46dd8b103be5e97d0dc3b5e30ce543d160ec9b893745196d39917524291cccad886d318da6a5feb99b5224613d99b75dd660c8c382550f93e80138be0b94ee87e67d04cc1face071ce1ba6a12221f361d4a2a744bcf09d32fc1f8357e926bed273188a05f7b08ccdae165756272859949cf156688c5ee10a1c96b0dcd06f478634b8d36aeb080a7f2d93929fe646c243385fcc05caa7a5c061daa3e26ff09a8cfd93013d6836ec11906ee7faef1042b38576c764791744bc8ff61e7dbf2b582c8776cbaed81cd30749a884c386aadcd5963a6c3d370191a54623def58825383f8c05129b8ed3010c07cd6fd6ec559cd43c324cf1587381c300075d768bbc076900d0a9cc80b6b8f35196495a37e0d34cf1fb90b9d85deaa644ab180ebed694071eaae08149a87d83780f76f6feb7df8cfcaef5fd9f0bb190b8658ed5b0036fa7611c99f05cd3bfbdcd55b120846bcd2704a83f3698a9070a69296b874034403c44613c1e08e9f6a998b37a6b786f480bfdb52dca59fe5c765a3c3655b3508070d85426867ef150f348f39e150fc64521fa0b939490d2ede8512540e4b43f81d02b8bb421bc0f061b4a3597d2c138bb49d5f6bd6c18b635aa64396c47577ebd3bb418e6a51688ec188879c926c41562a2a725f2880f8bd780803e432e61e5ae198a9a38bfdb47ba3ac30b9555549139087c748744e56501fbb4d89be2d19b5273c9bceef9d8dc94cb84582f00b11848f91c8c339e74679b750e2b00988c1c3eebf1f3a80838b5fd4444ca13afffb82ced3b26843537a674f8b5d8fb2ba2ca8936b377116160d1a00ec3e31d9fec026e0d3e4a7e1aeabfce368564d0a4bc26c9863fbbed5f3ec35abcb794605ec32802bbe8db4a4a4062a850355be42cdfc163635cd3ebfaf56b3547e419332aa597994adb8fb3a083e6bb7684845753adf9d93f1c655ec780ad91ddc0f2d0a4f1bb7854bdfb0212acb4e198554790d25161a410cef6a0903c2de9b4d2c6bd7d97bf682272d47e1e3c3dd4ce916cc63aa86896adeb1a26e986a5e27d3de715740d951a2b2d3f5ef24035ec0747dc8de63941622c396bf9f2ff29c8965f1970cf29c9c4cdef964379b6c56d98881c14f8fd04371b86006d3b8380c2d49b4463395a20daed5c5d13dac6499729da9f43d7b7f61a3bbfd109c889f9f9ebb5ddeb947e0046a811557a8253819b3b82b340033d9bb2a52596c661b550f7485cfe37ea3ffe106a193ba5a67668362671ec4428c92077d110514e2711986694de1575b3dfe7e341b6eecc78825b0a7d0a8f6ce0c150aaa2264e316dac62427620d0a0df6ac9dbdbec2ea42cdc0ae399803ad12f9a20e50b24bb6fa884c0645ba6698f6f72c2e773880ea995281313aeee6eeca260d24a15065cf78d8cd6e5323a6959002562eccaa714b34cc272ba094d9661675e74ed12e28a89518cd9edb3fe1bde0a46b6bc93b46f5844b248b83d0e9adeaacb82150abc899f847d30ba730955284ba738042ee3db3e1eda981cca78120755f33916dbb60be26ca1ac828ad6f95c85b278b839b0a51f0760c230e0c498907497d8d8b86172b996fba494950fb9d6569fcfc060edd95d50a0bd04498f9e476089e560c642bfe6d9758710fa05c1004e470e85600a5ae167b99d052edfe644d47c5118292be6dca9e069a5c46b8814fab314668a7f3afd73e4964812e47cf82cdb6f916dca967367a51fe232aeb6e7726508b11336b27e92a2a7a5949725f266e8cfe875cf51393e1c87d4d14f7d8482ace184be97da533508e6a24f7c7a21bc28125d402ef8095a52ee6665025ee1f5fdace3b5f3854f1edf2190c263f66b0d10c0df0a249ca58bf3acd812b40d529a15da6c9a7d8c95946f436ee7a4ed8d3ae8c3314d83db67a0bdcb9b41085a7c7fc6e1cc0421cf13a7e4e8b76d6dd67b19a2432624c406235c9733f318882c3a09e2d8cd7dd27861d4c57c17766ae7676a0b9b7e5a012db6fd2a2e83c9846842a9622d3f67103048912bde06c055a060b979008ccf92106544a6a2aca837a9509736521432ed681ee4dfb90d0483bc3a4c3447664a31dfdb04dac2654a821a0e8f35a83e2d8a3261a6b2ca2165b377f2de572fb725c186f24dd10e3e513f0d0c0b74b7a1d81820e010af17746103afde8143c1653986cdb84eff165b23e9c507e74669dd8695a9b083abd2fc5c74c5c2b56922048d35a9d961ee6da486390ec2c5a682985b17f2f2b1b4d351152b4c5d600c98ccfaf5d3d0123a1a5c84164cda7b0c7207432d72736963ff8e5dcd171884d35363652e1d830f1c7687c816dc6eb57bec712ef8c6c882563c899bc33911f6794fe4194b8e55e694347eb337d34d3dbe9de393099a236775b097515420c79b74f7b72278eca86c52610d702ac0d533c597cb08123cc83f59637a702e6256d820e236f331ed7e72e776fa4d9fdd6459a7f106241b523f5596f8a9e5e522ca3ca37199721fa88b05ac198d67616332a9b71295948aaa7a7bf914b8593df8f7ab46e8a49a99821c29513864844fc30732732411ddb55cf1248b78191a556f47e0d2fbf5f4d9f45be2f8236ae8e564987ff2be3defd55849619c0da82dbb4fad0aade1924ed21c89206f626e0219352e023d244fe6e22fc629d3ec544bec19f3972b61eeacd73ac59913c85285073347b72191efb909db41d61d11ff6cbea8da194d3c10c29f1baaeb28904ea1e719b0635c5372fd058d0cebf3ead9c624e6284fd8ec23451712bf8d420de1e851df4d06530828ec7f9df273b820bd78732d06460b3572acfd688f9c49579a0b95d69efef55ec60436aa393be910db1a73f40e2757163a4a33ca59cd2d69f137a78e81491f14a0f60df28063c1cb8b6522b36019ef55d2ade0a952efb2354888c29a1596059172916fcb3adfb3f7859c3a19aacb9cd1e86cab573e5d28407bd2614b3d5384c6b42f7efb71ba4dd15cf6c58fadea7aa07b0f5b7cf8dada83695f0e66c3728440ad5c3d921c87458e7209d43deaef00570880f0d2fcd0da104b3e2017f4355205841f1c52646d36eda0fc348d451661f2bfb17bc31ae2c79f9c25ecc1d0836c10d275d9132fdb389fa9787c0ba0df49e907f1091c2e565d6f671e0b67224f7614e3292bb3e4476713cd9383633125f7da0091a285da153272d0f76c7fbf5f933daf8cc0ec3190e3270297b2cf16d82f0b2434b7755346629b2414d7a5aaa439f57a58b317f207897d97cad9c11c5b3f9b58a69b3a5af692f5822a46e8e3fceda5907f97e6eeaa0ea474ceee8a11a6f6a36128a1892cba73776318bbb16f3ee84417005cb08a92c1c40ba2b5efd700ffa1284712c59c946c605741d1532a35ad896d31bf6fc81bfa37c921becb06c522b18d81322978b1f3e20efce7af22bdba61dd8ab9968a4cdb0bb96fc666f5531c9b0f3d0b833ac02a809f54949441750adb8f0826de7d7be80e05ba551b416e961a14ba52c5574b99d40fffaeda669b6b9a6265db29818a19ab3eb25a9d0e93fbc17cb10aabf0bf2b61ed669ec1d81c5b7bac1f3807e5ae7eb65c4e0dbd27b614fadc4650f14ca84cf4f9b6960eca57010bfd6aad7707e0e6a193b3a42b8c76591f1ef7a865e158cdcd6a2de96f23f8445de070d2f622a92c06966adfda165c86a16bbe56d85b4c6c73a45f3cbd6e13a12ca46d9415ec9ce13e1c3f4833dd06c664c6324b5c904efb1104c5ede2e1dce73c45f42f9c50dc2c5f6112b1a2451423faeec11be1e9860a48fe958e15d92f3cb2643d7d6a1704ad4927c83d5aca12b31a1a63f5b01acd543d0c88c9af32d803f2bfff31b52962ae52736b791ea6d6971aabdffef642acb6be4605ab478b90b72bec77960b716a9aab4372517f9e258e16a3dba255c6b4aa3e71c18365813894c7ba4e24f838c500d92c9125a5d357d588112a6e954a8835e2d30d336f4d78a988e38420e3d518156e12e7b2f2ddfb1dd27deb66d80df6434f5ac5d0323ccf09d1b05f72d8d0d67c02485d59914018d46af6453cb5dd5cbe1d02c2dabe5df66cf59b10751aedb403b723d185ee1e4d6441df364c14002a703b7a0f94efffcf22e08865ec52f07c8ae29f2dd3d8d234c85e11a47d88412093780dd5f33ae0b651020d29d4be52866a47b66ad5f9fd65c5cfc8c6bbc298c1a02accb7f718f456dd9a8dc328457b9ead3e1bc35b7e7561364cc7c872b20daf232be080e1760123bf6dc8d4a622e02a7b3731c205d441979e90c24bea6d1be80e5c1171937f1b0d691f363c3f837c8a06928ae7a5d864a59757b736c658207af7a5d73d65f00db8d503da5efdbc23ba99b148513782730f20ba2029883943135c212f18153f7a0272c0c9c034a7e3e2bbfe44929c63d25a323ce3125bd5a3b1bcbf2c515dca5fb4ba981504bf185bd0fe46b756de258e21c29a9c95a7b8b891cbc4e74dea499a3c72fa2e3cd7cf501cd327aeed59013c82f5ca1e6fae05bbcf4a32c3056e455d3acc17f21ae6b97f56ffc31ab9c01dece5a6523f925f52b6c9691cd14d99f13cfc67cd0739af2aac41c20532613f258c823947b06a813b4b2542f60d2d85d3605f007318245398d504af021e492641b5cff54084c5dc4039bb9c4de40d38e20480fb192da47454e99be70890cbe467dd7c2f9c8bb839915565a0fdec2c06771967dd9b34c46c30092e51146837550e6211c892884c8d208499fecbe20a493f1a0bb8ce88b55407ab6c3ac961a6d5d45c361e4d68375d3d3c4b3d03d26bd479e86af3ac679986041657c72ed72d90837559fe48b7841e8a5787da89cb2ec3c54d255b0d03f65427eca1be97532b2b769e14f4928429ae45f93fe86ee3dadf65c8c633dd3707b31683d25c0fd638b9d76c65beb577a0e55a44797753c9af12e8503267fad347df05ba4644038fe54f097386792e623b93fefad1e1bb8cf35b3ccec2f11fa87fc3a0ab1e7e69fc2bfcf14e1a3e5e5504607adf8e9f206cefaa2a6e7646c5d936fc38360eaa03477ca4139c1b23feb93e68b51823b130036111e6c2e73224f3bec8e752a22081cd8fc44a57bbc8f0e9e430ad128c1ab5599b0fd1c5eea68536cdf9284fc9f7262735be7ebba621d7ef2f22352a6f39752e10c273bb3da7c49e0b749081b9cb5cd5b82470395f9dc6b4af2011bc715d5c762d01e7f7c56741863f2f59497682a9ac37c0112a027a70801cc8c7352349fb398a03ec00906736d6677cc591062a37f91b0e67655314c3ac511fa4368c5e7c8df770dafcf3caabb3338644846edb62f2e22cefee629abb922395f0050c3a31bc18bb3f803fb66190dd87ff2bbe4891eb100892875478902ee868e07db3d11dbaae04867d32cc92624bea6d03cc4349508f936d475a22061e1c5874e82c5683b84f2afc702b4cf1d2ca92ee24fe3c52ec1181dabbc8cbd6319aae2c3cfe428a2f126a89f6c7caa333155d9896f9f543b362315d4ac12da04a86ab4240ff0ccc890800f3bc56824bf3c201d894b8d1a87d18678b722abf235146f4efc821760e21a74621e506c02f620b2ce9f7d3d1121e4e7214a04b7fb7f4601b53ddcd6ceb19c06d7485bce3ca7e0a50dba4fcb4c1928d96d727690ad77d2970a20594896605e4c6aac01c902ed301e2c0172dbc5825ec8788bbe374573b4217cc89b578aad48db61255ced12c71ef52dc345c4a3dd4494ae96682817a66534e34abbabd13bb688b90716e3f12e9e93fdc6a1534d5d8e95d82887fc1fec6ed7faa2661f9c76bf44299733beea3dbf9ecea84045132c953a084787e785ed5f202bd3d1ef4a41ccfb7cbdb8afca48b189e161cfab204688af143f43db87402dbd4533f395ebddbf55fb39316b41da9e816c1a19fadf2799d45f15ce2a47a4f0b9271dbd7a1217b630d2faff9208a9b144e0df09b80bc88b1ee372cf9957c21b2262e8fdd8506866f7ed5b0f772379be0c8adc04d8d2d7b75d0c6897b7ba8b44004c929c8d7b545e59a69088444332039cc39c7718a62f75988614421b815e97ca6a60bda4ef92d0d873bfebde4f1520285084fb8be178f5570b17a6e96e3a0c2adcab292869b3dc7aa31dd7f9dd787f08ede4332523129f098af667cab1bbc3b6157fd43f8cd7d2e85f354c3ac8cbf1c295bbbdfbbcf715f0fbf162e48da5ca13381866c9b21e3057e445637ec36b2737df142cbc551b53fa2e1913b6992a9450c9b35e8a715aeed64f4a308237c3628d99085c22c3d9d739b898d9012ccb09450b7d13359aa18c6b33a850c4f8a0988019cddf1d32213d2b7e805c4434ee203a5798329f525b2452a77922a776fb7bbb148d28573377f516d92772a88c0c411c4f6dc48dc79f0ed5d703a0a208466dee029b2880116fcf030ec298ab0b13474517852afbf66c467a4e3756c0f4897a975cacdc37b6d21c02477d13e77dac26544b24b84a422ac5c776cd5a1947ac55bc97aca58efa4acc11d1f1f16672be615922751c5760a07795de76a7bc6f3ef91dcdaded281a1095da78a04d6b8f1ab097429ea1da6a8d4ece7d215289b14ec1969b7d07c0f680c7a7a160ee8f8dace5a2611fb3ad0271a3d187b0a2c5237c5fc0136685e03299d9523ed2c8ef4ba0b000194372874b8f44eab3302b3ad04023c4433569f1bca2ca456df1fb397b283106c264378fe2763c7118f7913d1734ea6d43f8a3bc02bb3822466580a397ec0218197b393db232ec5fd0f561ef1548f89806943a65246140b2e20b76adb3fa3750fefd7d694b20bd4933ad699172ec78ea9c5e3355c54a7f5905609072ced176300ce8b93490203bc61b93316b1f68ca7d70ccb12460a000ff59468d89a7d964e5af9d528e3e33001c680edca140a2097fff76e1e101564f092416284ac30d114b34084cd145c99c0e24d3e9bb25b54d1988dae5f4ee8ebda6d1353ed92aef11b6a351ac8ae277c5fb11ac2cb0f1348704a06585afdbfca3cc01342184bc2764760bfe539ab9c786992ad594aa8addbb453aa15e13121446b5bcc27733aed652ddede3df7102e5120d4716e34ba1b5ef629728f7aadfcad8a088fe3251bc2bfcb9de97484d3a7d5f1dbe6225580fb6db738a50dea6a8f093489b60a2d33a2f347f93de526b494adabf11dc43acfda290da9227f12eeef87ec2a5eda52bac6f29f58af449b7e2f703d93cce758ecb24c25d9393b03f84aaf6ca39a394f65bb517a84008aea1ec059a86a164c4aa34cbb1bb38ca9d6636c9322d104e1eea481cff057e8fc952ced1427e555ae6e13b910d91e8eb87391f911a7daca4454577d17e6d7c92fd28a28bf7463a2b9b0c966edf384f940651ccfca1f7ffe59ced072d0d30e642dca90facbfadf32a857925d760958dd1c24368469caaf14842cf780181bab7ba3279acdd8477c752d4046f867adb85bd109dea9e7e24d06774326918b09a9e4facea09870ab28fc61d77852a4c6e5a0e18b09ebe426ba935a6c270541a20d90e748c99b06f6831e88c26e88ebee5eaf20805c669a0d1c115c8f3d858205079e2d7627c9a51a1daca45ec553b11c61e78ba1ba9617537d6dda12a370a82110d4f14c9be79b6c593dd4c5a83121028c47eb3f56e1fa9a0e16776b669235c1b3bb9a342f2968faa8daa46fe71a5b980df515157a6d1761daddc26a47265ad5a9aa82a7608d99bdcd35c1c78a58d2ede64c76fd810df13708dd1fcc0953096cb2e1d0777f630a69db827570949e0cfb3e983fccfbf5a4980a81fe0dcecbf7b785b6d36683bf974b94294319922442be4f7fbc7cc21f22294f7aab2772e59edbca2d1cb169209e446c94ef8c9699c80b9a6e40f6c6b283ff09e27acb0fe0d893c8f4cc57cb89c468cf83b27c4edab506b054a0f0ec5340936651bb8af4958089ce62fa2a30ab46af14cccf5664777acbccd32f3ded980082bd385a95d4c0f2cd10c9262b8c9b875aecd529c7908fe4df1b77e5b732af6db01b386cdbda2f0e31c46a0110bf6332a6a38cb641e84275f9599856c61f29bcca315a5db981348fe511099637b49f09a5ddfaefb64cca7c5298a78cbcd9485c9ed00b8df08d9b4e78c229e7bcb45e30a06daf348d28eadbacf2329995ab173c53449858be2b708d6b6ac8a6412e10f5825e29fce06b9f023ef24aecc4cd240456312245fda84c0eff6a3af0fe5c1e0d55a800d104162246a70d46fd304cf85defc35ef2bc10fbf1ab6f444a8516016f493790167d0770f0ed6e64f187869cf6e9e7a3d6c744737af81e840c0d039e1c05e2db3a25b6df79f86f6d47028530f485d36a0e0ed0a2942d88d7be945a0e77d99c64c3ae8c826e0ac70c73e5377b05b8073b2679939f0dfaf5b782fc334d92c995400c02a568fb382b3446f6372eaa27aab235040a702e0300152bbd338ba7774262102e3eac79633ce55096a6a04a2d2210d27456ba316ab06c87f8eb98a69fb2c7e88f04c844fe37e61dbc1ae45bf0266357c68f202d3be58b02110822ecc0864eb924c52136f2c939a8feb73e250da040001ff5f7879d86b2672602079a244b7bd10e5a606188d4722bc666afeff58ae728e2084c3ea2b134a5424ab90de1b2809c9696878043e3c2276b6877c4bcdd5f80991879f1413fdab1fa9a7c9a80853dfc2870c977aaed4fe7ccd55685d1ad9e3bb63537d828d019243fed9b1241421adcbb3f726aafb8b5ae204834f985e04ca030053c53c627117dd5c39e6243a02da1785b13c9d8bc60d0d425b415544def227b5d661a3b21d5e821b71e16e268c9ae6e0957dede45d2d1331b1e120b33b29cfa159fc0f455ebe0918fbe79c6cb685aa8e4c5a0b138da91918870a7024bcd8dd817f3025a026d4b162de9655d8635ddc89c32d98880565770d6b665cf98306ef2536205bdb5f72206b7794e306062ef8356d4712b72b96202749f472f859324b56692ab2ac2cf577bae323e6e06d049d729a9d43da09f3770c5d888c110684fdef931fa427665d585d37877f36dcb12acc8c4cb5295f872a7533e78f324561339f40225034bfddbb5ef67365e56afa5de2df803169768dfb1ee541f57e447550448131332bb49e35ecf9b9aee231179e4d313fc3bf36c019d6e41b30e829ae5ea0c659fa414f7a4754d1bb4d67f4d706d6791254d9dc629d9dccc01d551248290d236b41683d57bf62609823ef5ec03992914cb1febd3d3716eaf6bc1907a9b190605b29068480555681741fc27152bc0d4645cb128b4f60937b1d5041fd8e2d27af0c261eb341bbf6e4c1184aa9ff6cf6b9478b058b09d352220100f44a55f94c724390f36726e2a9f5a42fb2b6198eeb8f0d8beeb93bd59e4c546978579269aa347869778635c7ec35d7c3e7804ff4aae06a56d7a8a0ff4f3eb253f23345def689bb4da2da5221566f2c3bb8898b0bb5fb624addadfc13ed65ead7e980203af6688a4bc26dd7d402e7cd354a088406a9b980e08d8ad819c369ce7cb9acf46ceb4a04ec8a98d40ad906e2092f9804cfb5742b9694ff2c9f30d970f106cb0c0a697525a707d01363624196ba6f5e3b1d8861122433c341bfab6b117117c04f0a2568de14fec95673db2cd7185ac6adcefbc8b0c0e098fa9cd8c71567c05a3df025c9717fa6036308972645bdc1abacb5562f969209f19eadc94aad8ff06b7528e3749a7d3fd97fc476df145c3ce0f4e5be4ea91c8d26c66a084331febcd485b4d5ed137f32ec86741104e17437a267b31cdbd066806f1d0c2a5b4a32a6fa3c2264ce882c998d499af7f01eea3aa1550074138a28ed6dc8311f1b8527f59c0b91c2ac591805ce3485e5cb3a6263f93d93aa456e33f9d8c124ce9658e631759f3127516f15c9dc3c3d0c3dc1fdd706a0af05fc9ce3c73f2827751d23ede6ea4f79ec89478bcaee7d354dccc2f9bdc5fe7d521b4f3f365608185c5b5c56514dea0e59613331e6e6cc386d2426c16d2fc437a355022888aee55c7bb567c4009f6229156da00c289228aa967ffe6e2c2ec450775fb3c1bc79e3d8d8829daa34a45a65788293191778bf8eead03e3435c90afccbc1d8799a92f365f636143f00457f25c4e2fddae2d19a7a9838406cbcfb01bd5b63eb49f8f8db4bdd000053cbe0cfeb17b6a751f13e79c318ab6013b03187089095c00c72f07319fcb6ab10d04a2bfa5199cb8a76fea5215acb2c98c6cad86be7a3ff9981c51c70467db2338b5b0c7b3e9cefdbe0ae1245bf1b564441054632b9104a21f0119aa4b160095962611e6dfda75585ce8a8752174c9e688542067e8dd494e91c5ab186e4a38d2821adcde5c39aab05d64ea02a2d4422a2fe1fd8135606528270d5c36cc15083217d1acc615ac22e801d3df841a8a57abff06f6c58211cf3cd692c6dd84260a718e18322acf8bca57fe593a5044f2c82ec28bc618615c3a3e30c398c94ed0a216f8f6c79cac66ade58157c72dcc74082caf6150c4782b2dde75dbc21d72bd90676e676f9ecf3522b2c2646a723fc420116b99ded7f7d8e6c8e86b24d2da25248642ed24aadf04e5a18254d9a48fa03242eebf808611f9badda56f98526770bcb16c38f310c67ad9b28a3ea95ecda2f060207c62b4475c165e305f1393ee45bc337666c63861460ccb255d920b229e390174fc27355375f79d48669807cb81972953d9860838481f194ced3ccc5aac7c3c59e3244cf7670887fa471b37767a0366271df520f70c10644bfd1123d5b672ebe828c90adf3a975e46052efba488debc2beaf2afef83c8406c0e9b0e10bef332957fdecf571044fa94d1a72131b464a89597f0b6729bbe8c9a4411e0a9ab45c211e7ea0f6c16ddaff7606c09c48e2f7932fd3840a1874799d9bedf223a88cd3b284b1b428ec1986b1743ac7c783ce6af59f95c0d3e4a38edb7096d30dadbddb2f42b0945a70b8e42136ff26bc120e2d23258232182202de8672dd61c03d4b1cb914301b2ca9bf48868758a0b9ffa5e7e494d71827ffc63af7257959acb0c1486b2ea053c410451e5ced32e0ec89334c00ab43f9e11f3cd7d27f1fe940b67557d8fe279d390519516640cf2a68f025784bead9e62e5a33da155f7474f7dd815ece58dd21a4ac76ee195be81d27752e4aeaec3cfe1a0039481b8ec1d6617534cb2fff23fa7980b3df44eb052f46a43c8d9c708b5b7a351403cf996cd5887b82b894949c84cdb0cd7f384f4fd4605ddd4f741a1cf63aa014b41162320e7bf0c8038d91ec388ca72af26beb2f63241a17e91b7e943f1c4b9a2e37aab01e38f71a4ae6d4a4752e68094570153b4c522e8bda5cbfea3de1464e5e867e97d083b03d1fd081e544ab67b7e1012d1ad15ae14716c3430606a029df804460fee82eff5c006ca6fa13d22b9368faac8ef39b6b2a4be6debf7414f12b866f5184e40369861fdceccfef86917fbec8bc66f746688a9d2458992aee888f94d3b564d92b94a97e6027a962a7f7a04263b03a61060e0ed64f8db28ff3677ff50d94308f6468deed4f09745004285a3f6b87420fe777c4c20073b7d8bfffff229bf90f4e2eaebc4fb64e78278e2551ed3caa9c64cc46787ecc1d4fcddded5fe674c15944aff96d213854f963b3a039a66723a86bf0218953df4ddee0a6cfdd1c4fc7c461677921927fda0eb725fb7d7fb990ea720f09d5ea2147b168fe1881cd9b524428af5e98a0bfbf328cd1b70ec9409205997b629dbb1978cdd6b9e2e19fc99b0828e46489ab679d5df21faccecc8960eb83f53378b176141f63cc7a6381c66a0dcc218efd6561f0921511b2a1be9f4e8f908c5db389a3eedb87803d519284e2858e5dba719c50a156f69d3e86ff4ee7dccf63a4969eb8ce8702e331ed733ab0cf244a30af1cc32f652835feaea30518ea85fc092704df55d8af70c0a9d228a4016accf657c9cbda3d55308db88b0f0fe22def69cb1efeef465a3b583120cbbf8414251ee8f59f13e58db0761dd88a3ecbfed562d59650157a954819db4002e64ee637155ba89651ff8a7a659525ad11633a2c9814fae906aa6329cc3c93a548de64ab5ce2769494331af5900c786b4ba62af55f1151c427ca42345538c2266024e7b18554f5d42f3b95db2b441541158130121c80d16476dbb2706e3ad987d96942d96ca69eeaee4066a437d87ba2abf374087271991414e9af0ac27f3eb95bc24feb2ee452d312cac0a3f940fe13e859eced8ca169ee987f7bf3cfcbd6a1b8d0f995fda2612a717b71c8ba8deb64bdc19c84887a272de281dfc3d1cc167739f2c55df1bf5555b0f87ac39f207936823a15cc22dbade9e54d186a74710b11a5f229c61139714d097d6d0756d129bd1aa6bcdda0b0a527c67eaf5f202c23f768f60f0ef226d77771b9c9743f4214a4b50f64d6093fa45e15e3a453528230cd73ada2c85f45c0aa48771c9dbfa4e808ea4249a388356b086027599543ef93781d5f51f40ee752f37d1c93a8c8629e3fb56b5df27735cd86040a66bc26fcbfa7055cade7d89942a3d5d874d7c7aeeb34ce04cf301d4c692bdcc6b8e265bd9b4fba5ead8bfaba3354a172b76772a1422990c5f4e015a30203a8cfd1d9cc71d603c56d6e9dc25b55e0016635b930f4f47a1a31a6e907c7561c728f1c0b59e7b02b25db640d895614b2f4d59a7cec3375dbf4dfb07de87641cff5f62568bda4a2c633ec81fd867296639aaafe7ae13e6e7440aba1cdbfa35983b3180e4497403201b8d0703d71f2fbcf4b112b73962609b3dbe69cff90f9c4c196b74268eb159d21373648a47133fe4d7159e12db8a7f64fdb42cac9b213aad0dce9dffe26126b6cfffffe268f001bbb7cd67ed32035e982ca7c4f834db1447a4f0ce8ea157570f4d980af2d7ef78270fff2ea0553823b1a06db2b9dc360e887474be7583fe48a10f1826993f84cc5046ccb02070f52167f9ec399d8b8f16f574e595c3b7163ebb27e7ad5f00aee574c575c4e4ca00f003d40de3a80dfbc3efdab0bbdd349a6c85cadabeff3e6f2ca2fb9f12005ca67d28fa54288981773f004633d609f7c828ca8d30b77574f076017ddfd3e47648f0f5398aacac77bff17b36f311495a25a2dad19061c0fb8b347ac02b775a4653d014bdd3e099c7394aef583edfda61f464c7c1353788a5f9d0082bb4e62d1098c1239beb187587aa6d00416977ad54ca5fad082f91df56198987d58ed46d0c5","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"d2ba36568c424415548870192f3955e9"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
